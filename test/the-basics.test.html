<html>
  <body>
    <three-game id="game" autorender xr>
      <three-scene id="scene" background-color="#555">
        <three-ambient-light intensity="0.2"></three-ambient-light>
        <three-directional-light
          intensity="0.8"
          position="10, 40, 50"
          cast-shadow
        ></three-directional-light>

        <three-mesh
          id="mesh"
          ontick="this.object.rotation.x = this.object.rotation.y += 0.5 * game.deltaTime"
          onclick="this.object.material.color.set('red')"
        >
          <three-dodecahedron-buffer-geometry></three-dodecahedron-buffer-geometry>
          <three-mesh-standard-material color="hotpink"></three-mesh-standard-material>
        </three-mesh>
      </three-scene>
    </three-game>

    <script type="module">
      import { runTests } from "@web/test-runner-mocha"
      import { html, fixture, expect } from "@open-wc/testing"

      import * as THREE from "three"
      import "../src"

      runTests(async () => {
        describe("three-mesh", () => {
          it("is clickable", () => {
            expect(mesh.object.material).to.be.instanceof(THREE.MeshStandardMaterial)
            expect(mesh.object.material.color.getHexString()).to.equal("ff69b4")
            mesh.click()
            expect(mesh.object.material.color.getHexString()).to.equal("ff0000")
          })
        })
      })
    </script>
  </body>
</html>
